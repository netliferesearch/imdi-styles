function getUrlParameter(t){var i,e,a=decodeURIComponent(window.location.search.substring(1)).split("&");for(e=0;e<a.length;e++)if((i=a[e].split("="))[0]===t)return void 0===i[1]||i[1]}var imdi=imdi||{};$(document).ready(function(){imdi.tableOfContents.init(),imdi.facet.init(),imdi.scroll.init(),imdi.main_menu_toggle.init(),imdi.main_search_toggle.init(),imdi.toggle.init(getUrlParameter("toggle")),imdi.trigger.init(),imdi.selectall.init(),imdi.hover_toggle.init(),imdi.smooth_scrolling.init(),imdi.slick_carousel.init(),imdi.wizard.init(),imdi.table_collapsable.init(),imdi.to_top_button.init(),imdi.removeDoubleCTA.init()}),imdi.facet=function(t){return{init:function(){t("._jsExtendedFacet").on("change","input:checkbox",function(){window.location=t(this).data("filterurl")})}}}(jQuery),imdi.scroll=function(t){return{init:function(){var i=getUrlParameter("aid");if(i){var e="#"+i;t("html,body").animate({scrollTop:jQuery(e).offset().top-110},700),t(e).focus()}}}}(jQuery),imdi.gtm_tracking=(jQuery,{customEvent:function(t,i,e,a){t=void 0!==t?t:void 0,i=void 0!==i?i:void 0,e=void 0!==e?e:void 0,a=void 0!==a?a:void 0,"undefined"!=typeof dataLayer&&dataLayer.push({event:"customEvent",eventCategory:t,eventAction:i,eventLabel:e,eventValue:a})},customPageView:function(t,i){t=void 0!==t?t:void 0,i=void 0!==i?i:void 0,"undefined"!=typeof dataLayer&&dataLayer.push({event:"customPageView",virtualPageUrl:t,virtualPageTitle:i})}}),imdi.main_menu_toggle=function(t){return{init:function(){t('[data-behaviour="main-menu-toggle"]').on("click",function(i){i.preventDefault();var e=t("#footer"),a=t("#footer__bg"),a=t("#footer__bg"),n=t("#page-content"),o=t("#header");if("false"===t(this).attr("aria-expanded")){t(this).attr("aria-expanded","true");var r=t(window).height();r>e.height()&&(e.css("height",r),a.css("height",r));var s=window.location.pathname;imdi.gtm_tracking.customEvent("Menu","Main-menu open",void 0,s)}else t(this).attr("aria-expanded","false"),e.css("height","auto"),a.css("height","auto");n.toggle(),e.toggleClass(t("#footer").attr("data-toggle-menu")),o.toggleClass(t("#header").attr("data-toggle-menu"))})}}}(jQuery),imdi.main_search_toggle=function(t){return{init:function(){t('[data-behaviour="main-search-toggle"]').on("click",function(i){i.preventDefault();var e=t("#header"),a=t("#header-search");e.toggleClass(e.attr("data-toggle-search")),a.focus()}),t("body").on("blur","#header-search",function(){setTimeout(function(){t("#header-search-button").is(":focus")||t("#header").removeClass(t("#header").attr("data-toggle-search"))},500)}),t("body").on("blur","#header-search-button",function(){setTimeout(function(){t("#header-search").is(":focus")||t("#header").removeClass(t("#header").attr("data-toggle-search"))},500)})}}}(jQuery),imdi.toggle=function(t){return{init:function(i){t('[data-behaviour~="toggle"]').on("click",function(i){i.preventDefault();var e=t(this).data("class-expanded"),a="#"+t(this).attr("aria-controls"),n=t(a).data("class-expanded"),o=t(a).data("class-contracted"),r=t(this).data("caption-expanded"),s=t(this).data("caption-contracted"),l="false"===t(this).attr("aria-expanded");s&&(t(this).hasClass(e)?t(this).html(s):t(this).html(r)),t(this).attr("aria-expanded",l),t(a).attr("aria-hidden",!l),t(this).toggleClass(e),l?(t(a).show(0,function(){t(a).css("display","block"),t(a).removeClass(o).addClass(n)}),s&&t(this).html(s)):(t(a).removeClass(n).addClass(o),setTimeout(function(){t(a).hide()},200),s&&t(this).html(r))}),t('[data-behaviour~="toggle"]').each(function(){var e=t(this).attr("data-controls");t(this).attr("aria-expanded","false").attr("aria-controls",e).attr("role","button"),t("#"+e).attr("aria-hidden","true").hide(),i&&i===e&&t(this).trigger("click"),"expanded"===t(this).attr("data-state")&&t(this).trigger("click")})}}}(jQuery),imdi.trigger=function(t){return{init:function(){t('[data-behaviour="trigger"]').on("click",function(i){i.preventDefault();var e="#"+t(this).attr("data-controls");t(e).focus(),t(e).trigger("click")})}}}(jQuery),imdi.selectall=function(t){return{init:function(){t('[data-behaviour="selectall"]').on("click",function(i){t(this).select()})}}}(jQuery),imdi.hover_toggle=function(t){return{init:function(){t('[data-behaviour~="hover-toggle"]').each(function(){var i=t(this).data("class-expanded"),e=t(this).data("hover-children"),a=this;t(e,this).hover(function(){t(a).addClass(i),t(a).show(0)},function(){t(a).removeClass(i)})})}}}(jQuery),imdi.smooth_scrolling=function(t){return{init:function(){t('a[href^="#"]').not('[href="#"]').not('[data-behaviour="main-search-toggle"]').not('[data-behaviour="main-menu-toggle"]').not('[data-behaviour="toggle"]').on("click",function(){var i=t(this);if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=t(this.hash);if((e=e.length?e:t("[name="+this.hash.slice(1)+"]")).length)return t("html,body").animate({scrollTop:e.offset().top-30},1e3,function(){e.focus(),window.location.hash=i.attr("href").substring(1)}),!1}})}}}(jQuery),imdi.slick_carousel=function(t){return{init:function(){var i=t('[data-behaviour="carousel"]');if(i){var e=function(){t(window).width()<720?(a||i.slick({slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,infinite:!1,focusOnSelect:!0,prevArrow:'[data-behaviour="carousel-prev"]',nextArrow:'[data-behaviour="carousel-next"]'}),a=!0):a&&(i.slick("unslick"),a=!1)},a=!1;e(),t(window).resize(e)}}}}(jQuery),imdi.table_collapsable=function(t){return{init:function(){var i=function(i){console.log("toggleAccordion");var e=i.target,a=e.parentNode;"true"===a.getAttribute("aria-hidden")?(t(e).removeClass("expanded"),a.setAttribute("aria-hidden",!1)):(t(e).addClass("expanded"),a.setAttribute("aria-hidden",!0))};t("[data-table-collapsable]").each(function(){var e=t(this).find("tr");console.log("living"),t(e).each(function(){t(this).children()[0].addEventListener("click",i)})})}}}(jQuery),imdi.removeDoubleCTA=function(t){return{init:function(){var i=t("#toc-disabled")[0],e=t(i).find(".cta")[1];i.offsetHeight<window.innerHeight+300&&t(e).hide()}}}(jQuery),imdi.to_top_button=function(t){return{init:function(){var i=t("[data-behaviour=to-top]");t(i).on("click",function(){t("html, body").animate({scrollTop:0},"fast")});var e=function(){t(document).scrollTop()<300?t(i).hide():t(i).show()};t(window).scroll(function(){requestAnimationFrame(e)})}}}(jQuery),imdi.wizard=function(t){return{init:function(){t('[data-behaviour="wizard"]').each(function(){if("undefined"!==window[t(this).data("source")]&&window[t(this).data("source")].length&&null!=window[t(this).data("source")][0]){var i=window[t(this).data("source")],e=[],a=i[0].Id,n=this,o=t(this).data("caption-leadtext")?t(this).data("caption-leadtext"):"",r=t(this).data("caption-start-wizard")?t(this).data("caption-start-wizard"):"Start veiviser",s=t(this).data("caption-history-title")?t(this).data("caption-history-title"):"Tidligere svar",l=t(this).data("caption-start-over")?t(this).data("caption-start-over"):"Start på nytt",d=t(this).data("caption-error")?t(this).data("caption-error"):"Det skjedde en feil. Vennligst prøv å last siden på nytt.",c=function(a,o,r){var s=function(t,i){var e=null;for(e=0;t.length>e;e+=1)if(t[e].Id===i)return t[e];return null};if(-1!=a&&e.push({Id:a,Question:s(i,a).Question,Answer:o}),t(n).html('<hr class="line line--light t-margin-bottom"/>'),"step"==s(i,r).Type){var l=s(i,r).Question,c=s(i,r).Instruction,u=s(i,r).Alternatives;t(n).append(f(l,c,u,r)).append(g()).find("legend").focus();var h=window.location.pathname+"?wizard/question/"+r,m=l+" | Veiviserspørsmål";imdi.gtm_tracking.customPageView(h,m)}else if("conclusion"==s(i,r).Type){var v=s(i,r).Title,b=s(i,r).Content;b=decodeURIComponent(b.replace(/\+/g," ")),t(n).append(p(v,b)),t(n).append(g()),t(n).find("h3").focus();var h=window.location.pathname+"?wizard/conclusion/"+r,m=v+" | Veiviserkonklusjon";imdi.gtm_tracking.customPageView(h,m)}else t(n).append("<p><em>"+d+"</em></p>"),t(n).focus()},u=function(){e=[],t(n).html("");var i=t("<p>",{html:o}),s=t("<button>",{type:"button",class:"button button--large",html:r,click:t.proxy(c,null,-1,-1,a)});t(n).append(i),t(n).append(s)},h=function(t,i){return e.splice(i,e.length-i),c(-1,-1,t),!1},f=function(i,e,a,n){var o=t("<fieldset>",{class:"t-margin-bottom--large animations__fade-in-left"});t("<legend/>",{class:"h2  t-no-focus",tabindex:"-1",html:i}).appendTo(t(o)),e.length>0&&t("<p/>",{class:"text--small"}).append(e).appendTo(t(o));var r=t("<ul>",{class:"t-no-list-styles"});return t.each(a,function(){t("<button/>",{type:"button",class:"button button--option",html:this.Caption+' <i class="icon__arrow-right"></i>',click:t.proxy(c,null,n,this.Caption,this.Target)}).appendTo(t("<li>").appendTo(t(r)))}),t(o).append(r),o},p=function(i,e){var a=t("<section/>",{class:"t-margin-bottom--large animations__fade-in-left"});return t("<h3/>",{class:"h2 t-no-focus",tabindex:"-1",html:i}).appendTo(t(a)),t(a).append(e),t("<button/>",{type:"button",class:"button",html:l,click:t.proxy(u,null)}).appendTo(t(a)),a},g=function(){if(e.length<1)return null;var i=t("<section>");t("<h3/>",{class:"h4",html:s}).appendTo(t(i));var a=t("<ol/>");return t.each(e,function(i,e){var n=t("<li/>"),o=t("<div/>",{class:"info t-margin-bottom"}),r=t("<h4/>",{class:"info__title"});t("<a/>",{href:"#",html:e.Question,click:t.proxy(h,null,e.Id,i)}).appendTo(t(r)),t(r).appendTo(t(o)),t("<p/>",{html:e.Answer}).appendTo(t(o)),t(a).append(t(n).append(t(o)))}),t(i).append(a),i};u()}else t(this).innerHTML("<p><em>"+d+"</em></p>")})}}}(jQuery),imdi.tableOfContents=function(t){return{init:function(){if(t("#toc-enabled").length){var i=1;t("#toc-enabled h2:not([class])").each(function(){var e="title_"+i;t(this).attr("id",e),t(this).attr("tabindex","-1"),t(this).addClass("toc__heading"),t("#toc").append('<li><a href="#'+e+'" class="navigation__link navigation__link--anchor">'+t(this).text()+"</a></li>"),i++}),1==i&&t("#toc-navigation").remove()}}}}(jQuery);