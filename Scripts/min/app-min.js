function getQueryParams(t){t=t.split("+").join(" ");for(var e={},a,o=/[?&]?([^=]+)=([^&]*)/g;a=o.exec(t);)e[decodeURIComponent(a[1])]=decodeURIComponent(a[2]);return e}var $_GET=getQueryParams(document.location.search);$(document).ready(function(){$('[data-behaviour="main-menu-toggle"]').click(function(t){if(t.preventDefault(),"false"===$(this).attr("aria-expanded")){$(this).attr("aria-expanded","true");var e=$(window).height(),a=$("#footer").height();e>a&&($("#footer").css("height",e),$("#footer__bg").css("height",e))}else $(this).attr("aria-expanded","false"),$("#footer").css("height","auto"),$("#footer__bg").css("height","auto");$("#page-content").toggle(),$("#footer").toggleClass($("#footer").attr("data-toggle-menu")),$("#header").toggleClass($("#header").attr("data-toggle-menu"))}),$('[data-behaviour="main-search-toggle"]').click(function(t){t.preventDefault(),$("#header").toggleClass($("#header").attr("data-toggle-search")),$("#header-search").focus()}),$("body").on("blur","#header-search",function(){setTimeout(function(){$("#header-search-button").is(":focus")||$("#header").removeClass($("#header").attr("data-toggle-search"))},500)}),$("body").on("blur","#header-search-button",function(){setTimeout(function(){$("#header-search").is(":focus")||$("#header").removeClass($("#header").attr("data-toggle-search"))},500)}),$('[data-behaviour="toggle"]').click(function(t){t.preventDefault();var e=200,a=$(this).data("class-expanded"),o="#"+$(this).attr("aria-controls"),i=$(o).data("class-expanded"),n=$(o).data("class-contracted"),r=$(this).data("caption-expanded"),s=$(this).data("caption-contracted"),l="false"===$(this).attr("aria-expanded")?!0:!1;s&&($(this).hasClass(a)?$(this).html(s):$(this).html(r)),$(this).attr("aria-expanded",l),$(o).attr("aria-hidden",!l),$(this).toggleClass(a),l?($(o).toggle(0,function(){$(o).removeClass(n),$(o).addClass(i)}),s&&$(this).html(s)):($(o).removeClass(i),$(o).addClass(n),setTimeout(function(){$(o).toggle()},e),s&&$(this).html(r))}),$('[data-behaviour="toggle"]').each(function(){var t=$(this).attr("data-controls");$(this).attr("aria-expanded","false"),$(this).attr("aria-controls",t),$(this).attr("role","button"),$("#"+t).attr("aria-hidden","true"),$("#"+t).hide(),$_GET.toggle&&$_GET.toggle===t&&$(this).trigger("click"),"expanded"===$(this).attr("data-state")&&$(this).trigger("click")}),$('[data-behaviour="trigger"]').click(function(t){t.preventDefault();var e="#"+$(this).attr("data-controls");$(e).focus(),$(e).trigger("click")}),$('[data-behaviour="selectall"]').click(function(t){$(this).select()}),$('a[href*=#]:not([href=#]):not([data-behaviour="main-search-toggle"]):not([data-behaviour="main-menu-toggle"]):not([data-behaviour="toggle"])').click(function(){var t=$(this);if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top-30},1e3,function(){e.focus(),window.location.hash=t.attr("href").substring(1)}),!1}});var t=$('[data-behaviour="carousel"]'),e=function(){$(window).width()<546?t.slick({slidesToShow:1,adaptiveHeight:!0}):t.slick("unslick")};$(window).resize(e),e(),$('[data-behaviour="wizard"]').each(function(){if("undefined"!==window[$(this).data("source")]){var t=window[$(this).data("source")],e=[],a=t[0].Id,o=function(e,a,i,n){console.log(a+","+i+", "+n);var r=function(t,e){var a=null;for(a=0;t.length>a;a+=1)if(t[a].Id===e)return t[a];return null},s=r(t,n).Question,l=r(t,n).Instruction,h=r(t,n).Alternatives,c=$("<fieldset>");$("<legend>").attr({"class":"h3"}).text(s).appendTo($(c)),l.length>0&&$("<p>").attr({"class":"text--small"}).append(l).appendTo($(c)),$.each(h,function(){$("<button>").attr({type:"button","class":"button button--secondary"}).text(this.Caption).click($.proxy(o,null,e,n,this.Caption,this.Target)).appendTo($(c))}),$(e).html(""),$(e).append(c),console.log("Ble trykket")},i=function(t,e){$(t).html("");var o=$("<a>",{"class":"button button--large"}).text("Start veiviser").click($.proxy(e,null,t,-1,-1,a));$(t).append(o)};i(this,o,t,e)}else $(this).innerHTML("<em>Det skjedde en feil. Vennligst prøv å last siden på nytt.</em>")})});