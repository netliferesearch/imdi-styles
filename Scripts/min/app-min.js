function getQueryParams(t){t=t.split("+").join(" ");for(var a={},e,n=/[?&]?([^=]+)=([^&]*)/g;e=n.exec(t);)a[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return a}var $_GET=getQueryParams(document.location.search);$(document).ready(function(){$('[data-behaviour="main-menu-toggle"]').click(function(t){if(t.preventDefault(),"false"===$(this).attr("aria-expanded")){$(this).attr("aria-expanded","true");var a=$(window).height(),e=$("#footer").height();a>e&&($("#footer").css("height",a),$("#footer__bg").css("height",a))}else $(this).attr("aria-expanded","false"),$("#footer").css("height","auto"),$("#footer__bg").css("height","auto");$("#page-content").toggle(),$("#footer").toggleClass($("#footer").attr("data-toggle-menu")),$("#header").toggleClass($("#header").attr("data-toggle-menu"))}),$('[data-behaviour="main-search-toggle"]').click(function(t){t.preventDefault(),$("#header").toggleClass($("#header").attr("data-toggle-search")),$("#header-search").focus()}),$("body").on("blur","#header-search",function(){setTimeout(function(){$("#header-search-button").is(":focus")||$("#header").removeClass($("#header").attr("data-toggle-search"))},500)}),$("body").on("blur","#header-search-button",function(){setTimeout(function(){$("#header-search").is(":focus")||$("#header").removeClass($("#header").attr("data-toggle-search"))},500)}),$('[data-behaviour~="toggle"]').click(function(t){t.preventDefault();var a=200,e=$(this).data("class-expanded"),n="#"+$(this).attr("aria-controls"),i=$(n).data("class-expanded"),o=$(n).data("class-contracted"),s=$(this).data("caption-expanded"),r=$(this).data("caption-contracted"),l="false"===$(this).attr("aria-expanded")?!0:!1;r&&($(this).hasClass(e)?$(this).html(r):$(this).html(s)),$(this).attr("aria-expanded",l),$(n).attr("aria-hidden",!l),$(this).toggleClass(e),l?($(n).show(0,function(){$(n).css("display","block"),$(n).removeClass(o),$(n).addClass(i)}),r&&$(this).html(r)):($(n).removeClass(i),$(n).addClass(o),setTimeout(function(){$(n).hide()},a),r&&$(this).html(s))}),$('[data-behaviour~="toggle"]').each(function(){var t=$(this).attr("data-controls");$(this).attr("aria-expanded","false"),$(this).attr("aria-controls",t),$(this).attr("role","button"),$("#"+t).attr("aria-hidden","true"),$("#"+t).hide(),$_GET.toggle&&$_GET.toggle===t&&$(this).trigger("click"),"expanded"===$(this).attr("data-state")&&$(this).trigger("click")}),$('[data-behaviour="trigger"]').click(function(t){t.preventDefault();var a="#"+$(this).attr("data-controls");$(a).focus(),$(a).trigger("click")}),$('[data-behaviour="selectall"]').click(function(t){$(this).select()}),$('[data-behaviour~="hover-toggle"]').each(function(){var t=$(this).data("class-expanded"),a=$(this).data("hover-children"),e=this;$(a,this).hover(function(){$(e).addClass(t)},function(){$(e).removeClass(t)})}),$('a[href*=#]:not([href=#]):not([data-behaviour="main-search-toggle"]):not([data-behaviour="main-menu-toggle"]):not([data-behaviour="toggle"])').click(function(){var t=$(this);if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top-30},1e3,function(){a.focus(),window.location.hash=t.attr("href").substring(1)}),!1}});var t=$('[data-behaviour="carousel"]'),a=function(){$(window).width()<546?t.slick({slidesToShow:1,adaptiveHeight:!0,infinite:!1,focusOnSelect:!0,prevArrow:'[data-behaviour="carousel-prev"]',nextArrow:'[data-behaviour="carousel-next"]'}):t.slick("unslick")};$(window).resize(a),a(),$('[data-behaviour="wizard"]').each(function(){if("undefined"!==window[$(this).data("source")]){var t=window[$(this).data("source")],a=[],e=t[0].Id,n=this,i=$(this).data("caption-leadtext")?$(this).data("caption-leadtext"):"",o=$(this).data("caption-start-wizard")?$(this).data("caption-start-wizard"):"Start veiviser",s=$(this).data("caption-history-title")?$(this).data("caption-history-title"):"Tidligere svar",r=$(this).data("caption-start-over")?$(this).data("caption-start-over"):"Start på nytt",l=$(this).data("caption-error")?$(this).data("caption-error"):"Det skjedde en feil. Vennligst prøv å last siden på nytt.",h=function(){a=[],$(n).html("");var t=$("<p>",{html:i}),s=$("<button>",{type:"button","class":"button button--large",html:o,click:$.proxy(c,null,-1,-1,e)});$(n).append(t),$(n).append(s)},c=function(e,i,o){var s=function(t,a){var e=null;for(e=0;t.length>e;e+=1)if(t[e].Id===a)return t[e];return null};if(-1!=e&&a.push({Id:e,Question:s(t,e).Question,Answer:i}),$(n).html('<hr class="line line--light t-margin-bottom"/>'),"step"==s(t,o).Type){var r=s(t,o).Question,h=s(t,o).Instruction,c=s(t,o).Alternatives;$(n).append(u(r,h,c,o)),$(n).append(f()),$(n).find("legend").focus()}else if("conclusion"==s(t,o).Type){var d=s(t,o).Title,g=s(t,o).Content;g=decodeURIComponent(g.replace(/\+/g," ")),$(n).append(p(d,g)),$(n).append(f()),$(n).find("h3").focus()}else $(n).append("<p><em>"+l+"</em></p>"),$(n).focus()},d=function(t,e){return a.splice(e,a.length-e),c(-1,-1,t),!1},u=function(t,a,e,n){var i=$("<fieldset>",{"class":"t-margin-bottom--large animations__fade-in-left"});$("<legend/>",{"class":"h2  t-no-focus",tabindex:"-1",html:t}).appendTo($(i)),a.length>0&&$("<p/>",{"class":"text--small"}).append(a).appendTo($(i));var o=$("<ul>",{"class":"t-no-list-styles"});return $.each(e,function(){$("<button/>",{type:"button","class":"button button--option",html:this.Caption+' <i class="icon__arrow-right"></i>',click:$.proxy(c,null,n,this.Caption,this.Target)}).appendTo($("<li>").appendTo($(o)))}),$(i).append(o),i},p=function(t,a){var e=$("<section/>",{"class":"t-margin-bottom--large animations__fade-in-left"});return $("<h3/>",{"class":"h2 t-no-focus",tabindex:"-1",html:t}).appendTo($(e)),$(e).append(a),$("<button/>",{type:"button","class":"button",html:r,click:$.proxy(h,null)}).appendTo($(e)),e},f=function(){if(a.length<1)return null;var t=$("<section>");$("<h3/>",{"class":"h4",html:s}).appendTo($(t));var e=$("<ol/>");return $.each(a,function(t,a){var n=$("<li/>"),i=$("<div/>",{"class":"info t-margin-bottom"}),o=$("<h4/>",{"class":"info__title"});$("<a/>",{href:"#",html:a.Question,click:$.proxy(d,null,a.Id,t)}).appendTo($(o)),$(o).appendTo($(i)),$("<p/>",{html:a.Answer}).appendTo($(i)),$(e).append($(n).append($(i)))}),$(t).append(e),t};h()}else $(this).innerHTML("<p><em>"+l+"</em></p>")})});